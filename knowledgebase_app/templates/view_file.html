{% extends "index.html" %}

{% block content %}

<div class="max-w-3xl mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg">
    <!-- File Name Header -->
    <h1 class="text-3xl font-bold text-gray-800 text-center mb-6">{{ filename }}</h1>

    <!-- File Preview Section -->
    <div class="file-preview">
        {% if youtube %}
            <div class="relative w-full h-64 sm:h-96">
                <iframe src="{{ content.file_url }}" 
                        class="absolute inset-0 w-full h-full rounded-lg" 
                        frameborder="0" 
                        allowfullscreen>
                </iframe>
            </div>

        {% elif file_extension in ["pdf", "txt"] %}
            <div class="relative w-full h-96">
                <iframe src="{{ file_url }}" 
                        class="absolute inset-0 w-full h-full rounded-lg border" 
                        frameborder="0">
                </iframe>
            </div>

        {% elif file_extension in ["doc", "docx"] %}
            <p class="text-gray-600 text-center">This file cannot be previewed. Click below to download:</p>
            <div class="text-center mt-4">
                <a href="{{ file_url }}" 
                   class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                   Download {{ filename }}.{{ file_extension }}
                </a>
            </div>

        {% else %}
            <p class="text-gray-600 text-center">Preview is not available for this file type.</p>
        {% endif %}
    </div>

    <!-- Back Button -->
    <div class="text-center mt-6">
        <button onclick="goBack()"
           class="inline-block bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition cursor-pointer">
            Back to Topic
        </button> 
    </div>

    <script>
        function goBack() {
          window.history.back();
        }
    </script>
</div>

{% endblock %}
